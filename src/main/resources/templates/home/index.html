<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layouts/_mainLayout"
      xmlns:sec="http://www.w3.org/1999/xhtml">

<div layout:fragment="content" class="d-flex justify-content-center align-items-center min-vh-100 bg-light py-5">

    <!-- CONTENEDOR PRINCIPAL - CARD CON DISEÑO ELEGANTE -->
    <div class="card shadow-lg border-0 w-100" style="max-width: 900px; border-radius: 20px; overflow: hidden;">
        <div class="row g-0">
            <!-- Columna de Contenido Principal -->
            <div class="col-md-7 d-flex flex-column justify-content-between p-5">
                <div>
                    <!-- Logo y Título -->
                    <div class="d-flex align-items-center mb-4">
                        <img th:src="@{/images/logotipo-de-santa-sofia-2.png}" alt="Santa Sofia Logo" class="me-3" style="height: 150px;">
                        <h1 class="display-5 fw-bold text-primary mb-0">Gestión de Inventario<br></h1>
                    </div>
                    <!-- Mensajes de Alerta (SweetAlert2) - Mantener igual -->
                    <div th:if="${msg != null}">
                        <script th:inline="javascript">
                            Swal.fire({
                                title: "✅ Confirmación",
                                text: /*[[${msg}]]*/ '',
                                icon: "success",
                                confirmButtonColor: "#3085d6"
                            });
                        </script>
                    </div>
                    <div th:if="${error != null}">
                        <script th:inline="javascript">
                            Swal.fire({
                                title: "❌ Error",
                                text: /*[[${error}]]*/ '',
                                icon: "error",
                                confirmButtonColor: "#d33"
                            });
                        </script>
                    </div>

                    <!-- Mensaje para usuarios anónimos (SOLO SI NO ESTÁ AUTENTICADO) -->
                    <div sec:authorize="isAnonymous()">
                        <a href="/login" class="alert alert-warning border-0 rounded-pill p-3 text-center d-inline-flex align-items-center justify-content-center" role="button" aria-label="Iniciar sesión">
                            <i class="bi bi-person-fill-lock me-2"></i> Por favor, <u>inicia sesión</u> para acceder al sistema.
                        </a>
                    </div>

                    <!-- Contenido para usuarios autenticados (SOLO SI ESTÁ AUTENTICADO) -->
                    <div sec:authorize="isAuthenticated()" class="mt-4">
                        <p class="lead text-success">¡Bienvenido, <span sec:authentication="name">Usuario</span>! Has iniciado sesión correctamente.</p>
                        <!-- Suponiendo que tienes una URL para el dashboard o inicio -->

                    </div>
                </div>

                <!-- Footer o información adicional -->
                <small class="text-muted mt-5">&copy; <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}">2024</span> Ferretería Santa Sofía. .</small>
            </div>

            <!-- Columna de Imagen Decorativa (simulando una imagen de ferretería) - Mantener igual -->
            <div class="col-md-5 bg-primary d-flex align-items-center justify-content-center" style="background: linear-gradient(to right, #007bff, #0056b3);">
                <div class="text-center text-white p-4">
                    <i class="bi bi-tools display-1 mb-3"></i> <!-- Icono grande de herramientas -->
                    <h3 class="fw-bold mb-3">Tu Inventario</h3>
                    <p class="opacity-75">
                        Simplifica la gestión de stock, ventas y proveedores con nuestra plataforma.
                    </p>
                </div>
            </div>
        </div>
    </div>

</div>
</html>